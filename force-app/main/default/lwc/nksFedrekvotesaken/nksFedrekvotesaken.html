<template>
    <div style="margin-bottom: 4rem">
        <div>
            <div class="header">
                <h1 class="navds-heading navds-heading--2xlarge">Berørt av fedrekvotesaken?</h1>
            </div>
            <div
                class="text-center"
                style="background-color: #fff; display: block; padding: 1rem 1rem 1rem 1rem; border-radius: 4px"
            >
                <template lwc:if={loading}>
                    <p>laster</p>
                </template>
                <template lwc:else>
                    <template lwc:if={hasNavTask}>
                        <p style="margin-bottom: 3rem">
                            Takk for informasjonen. Vi tar kontakt hvis vi trenger flere opplysninger fra deg.
                        </p>
                    </template>
                    <template lwc:else>
                        <div class="descholder slds-var-m-bottom_large">
                            <p class="navds-body-short navds-body-short--small blokk-xs description">
                                Hvis du kan være berørt av fedrekvotesaken, ber vi om at du fyller ut dette skjemaet. Da
                                kan vi vurdere saken din. Du blir kontaktet hvis vi trenger flere opplysninger fra deg.
                            </p>
                        </div>
                        <div class="text-start addMargin navds-form-field navds-form-field--medium">
                            <c-community-error-summary
                                error-list={errorList}
                                onclickedevent={handleErrorClick}
                                class="errorSummary"
                                style="text-align: left"
                            >
                            </c-community-error-summary>
                            <div class="childWrap">
                                <template for:each={childList} for:item="child">
                                    <div key={child} class="spacing">
                                        <c-nks-fedrekvotesaken-child
                                            data-id={child}
                                            class="children"
                                        ></c-nks-fedrekvotesaken-child>
                                    </div>
                                </template>
                            </div>
                            <c-ds-button
                                class="removeMargin"
                                variant="tertiary"
                                size="medium"
                                text="Legg til et barn til"
                                icon={plusCircle}
                                onbuttonclick={addChild}
                            ></c-ds-button>

                            <c-ds-text-field
                                type="tel"
                                maxlength="8"
                                class="phoneNumber"
                                required="true"
                                label="Ditt telefonnummer"
                                style="width: 195.2px; margin-bottom: 1rem; margin-top: 2rem"
                            ></c-ds-text-field>
                            <c-ds-button
                                variant="primary"
                                size="medium"
                                text="Send"
                                onbuttonclick={validateInputs}
                            ></c-ds-button>
                        </div>
                    </template>
                </template>
            </div>
        </div>
    </div>
</template>
