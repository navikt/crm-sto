<template>
    <div class={wrapperClass}>
        <div class="navds-textarea__wrapper">
            <label for="textareaInput" class="sr-only">Tekstomr√•de med plass til {maxLength} tegn.</label>
            <textarea
                aria-invalid={errorState}
                name="textbox"
                onchange={publishMessage}
                oninput={handleMessage}
                label="Skriv din melding her"
                class="navds-textarea__input navds-body-short navds-body-medium navds-textarea--counter tekstboks"
                onfocusout={checkError}
                rows="6"
                id="textareaInput"
            ></textarea>
            <div aria-hidden="true" class="mirror" tabindex="-1" rows="6"></div>
            <p aria-live="off" class={remainingCharacterClass}>{remainingCharacterText}</p>
        </div>
        <div aria-relevant="additions removals" aria-live="polite">
            <template if:true={errorState}>
                <div class="navds-error-message navds-error-message--medium navds-label">{errorMessage}</div>
            </template>
        </div>
    </div>
</template>
