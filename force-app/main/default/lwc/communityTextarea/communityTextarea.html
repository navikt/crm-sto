<template>
    <div class={wrapperClass}>
        <label for="textareaInput" class="navds-form-field__label navds-label">{label}</label>
        <textarea
            aria-invalid={errorState}
            onchange={handleChange}
            oninput={handleMessage}
            class="navds-textarea__input navds-body-short navds-body-short--medium navds-textarea--counter min-row textBox"
            onfocusout={checkError}
            id="textareaInput"
        >
            {message}
            </textarea
        >
        <div aria-hidden="true" class="mirror minRow" tabindex="-1"></div>
        <template if:true={limitCharacters}>
            <p aria-live="off" class={remainingCharacterClass}>{remainingCharacterText}</p>
        </template>
        <div aria-relevant="additions removals" aria-live="polite">
            <template lwc:if={errorState}>
                <div class="navds-error-message navds-label navds-error-message--show-icon">
                    <div class="slds-grid slds-p-bottom_small">
                        <lightning-icon
                            icon-name="utility:warning"
                            size="x-small"
                            variant="error"
                            class="slds-p-right_xx-small"
                        >
                        </lightning-icon
                        >{errorMessage}
                    </div>
                </div>
            </template>
        </div>
    </div>
</template>
