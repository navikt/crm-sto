<template>
    <div class={wrapperClass}>
        <div class="navds-textarea__wrapper">
            <!-- <textarea
                    aria-invalid="true"
                    class="navds-textarea__input navds-body-short navds-body-medium navds-textarea--counter"
                    style="height: 66px; overflow: hidden"
                ></textarea> -->
            <textarea
                aria-invalid={errorState}
                name="textbox"
                onchange={publishMessage}
                oninput={handleMessage}
                label="Skriv din melding her"
                class="navds-textarea__input navds-body-short navds-body-medium navds-textarea--counter tekstboks"
                maxlength={maxLength}
                onfocusout={checkError}
            ></textarea>
            <span class="sr-only"> Tekstomr√•de med plass til {maxLength} tegn.</span>
            <p aria-live="off" class="navds-textarea__counter navds-body-short">
                Du har {remainingCharacters} tegn igjen
            </p>
        </div>
        <div aria-relevant="additions removals" aria-live="polite">
            <template if:true={errorState}>
                <div class="navds-error-message navds-error-message--medium navds-label">{errorMessage}</div>
            </template>
        </div>
    </div>
</template>
