<template>
    <lightning-layout lwc:if={isThreadIdNull} class="threadNotFound">
        <lightning-layout-item> Du har ikke tilgang til dialogen </lightning-layout-item>
    </lightning-layout>
    <c-crm-messaging-message-component
        lwc:else
        tabindex="0"
        record-id={threadId}
        single-thread={singleThread}
        card-title={actualCardTitle}
        icon-name={iconName}
        text-template={textTemplate}
        show-close={showClose}
        english-text-template={englishTextTemplate}
        onenglisheventtwo={handleEnglishEventTwo}
        show-language-change-modal={showLanguageChangeModal}
        class={computeClasses}
        show-quick
        submit-button-label={buttonLabel}
        onsubmitfromchild={handleSubmit}
        new-design
        is-thread={isThread}
        onclosedevent={forwardEvent}
        is-case-reserved={isCaseReserved}
    >
        <template lwc:if={showMedskrivBlocker}>
            <div slot="messages">
                <div class="slds-align_absolute-center slds-grid_vertical medskrivBlocker scroller">
                    <p class="slds-text-body_regular slds-var-m-bottom_small">{labels.MEDSKRIV_TEXT}</p>
                    <lightning-button
                        variant="brand"
                        label={labels.MEDSKRIV_LABEL}
                        onclick={handleMedskrivClick}
                    ></lightning-button>
                </div>
            </div>
        </template>
        <div slot="buttonContainer">
            <slot name="buttonContainer"></slot>
        </div>
        <div slot="flowSection">
            <slot name="flowSection"></slot>
        </div>
    </c-crm-messaging-message-component>
</template>
