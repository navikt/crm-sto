<template>
    <div class="container">
        <p class="navds-bodylong navds-bodylong--medium">{inboxType}</p>
        <h1 class="navds-heading navds-heading--xlarge">{inboxTheme}</h1>
        <c-community-error-summary error-list={errorList} onclickedevent={handleErrorClick} class="errorSummary">
        </c-community-error-summary>
        <c-community-message-container message-groups={messageGroups}></c-community-message-container>
        <slot name="messageArea">
            <template lwc:if={isclosed}></template>
            <template lwc:else>
                <lightning-input-field
                    class="slds-hidden messageText"
                    field-name="CRM_Message_Text__c"
                ></lightning-input-field>
                <div class="text-area">
                    <c-community-textarea
                        label="Ny melding"
                        max-length={maxLength}
                        ontextchanged={handleTextChange}
                    ></c-community-textarea>
                </div>
                <button
                    disabled={buttonDisabled}
                    class="navds-button navds-button--primary navds-button--medium"
                    type="submit"
                    aria-disabled="false"
                    onclick={handleSendButtonClick}
                >
                    Send melding
                </button>
                <template lwc:if={showOpenWarning}>
                    <c-community-alert alert-type="info" alert-text={openAlertText}></c-community-alert>
                </template>
                <lightning-input-field
                    field-name="CRM_From_Contact__c"
                    value={userContactId}
                    class="slds-hidden"
                ></lightning-input-field>
                <lightning-input-field field-name="CRM_Thread__c" value={recordId} class="slds-hidden">
                </lightning-input-field>
            </template>
            <template lwc:if={showClosedText}>
                <c-community-alert alert-type="info" alert-text={closedAlertText}></c-community-alert
            ></template>
        </slot>
    </div>
</template>
